!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,o.call(i.exports,i,i.exports),i.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){n[e]=t},e.parcelRequired7c6=o),o("cx81q"),o("twtVq");var i=o("UL92Z"),l=[],a=[];function c(e){l.push(e),i.localStorageUs.save("Watched",l)}function r(e){a.push(e),i.localStorageUs.save("Queue",a)}function s(e,t){e.style.backgroundColor="#ff6b08",e.style.color="#ffffff",e.style.borderColor="#ff6b01",t.style.backgroundColor="#ffffff",t.style.color="black",t.style.borderColor="rgba(0, 0, 0, 0.56)",e.textContent="Added ✅",t.setAttribute("disabled","true"),e.setAttribute("disabled","true")}var d=o("lnzPg"),u=document.querySelector(".modal__backdrop"),f=document.querySelector(".movies"),_=document.querySelector(".closeModal"),m=document.querySelector(".modal__container"),p="https://image.tmdb.org/t/p",v="w400";function b(){var e=document.querySelector(".film__image"),t=document.querySelector(".film__information");e.remove(),t.remove(),u.classList.add("is-hidden"),document.body.style.overflow="scroll",document.removeEventListener("keydown",g),document.removeEventListener("click",y)}function g(e){"Escape"===e.code&&b()}function y(e){e.target===u&&b()}f.addEventListener("click",(function(e){if("IMG"!==e.target.nodeName)return;u.classList.remove("is-hidden"),document.body.style.overflow="hidden",document.addEventListener("keydown",g),document.addEventListener("click",y);var t=e.target.dataset.id,n=Number(t),o=function(){var e=localStorage.getItem("dataInApi");try{return JSON.parse(e)}catch(e){console.warn("Ошибка во время парса данных с локального хранилища")}}().results.find((function(e){return e.id===n})),i=o.poster_path,l=(0,d.processingNameFilm)(o.title,o.name),a=o.vote_average,f=o.vote_count,_=o.popularity,b=(0,d.processingGenre)(o.genre_ids),h=o.overview;m.insertAdjacentHTML("afterbegin",function(e,t,n,o,i,l,a){return'\n  <div class="film__image">\n  <img class="image" src="'.concat(p,"/").concat(v,"/").concat(e,'" alt=').concat(t,'/>\n    </div>\n    <div class="film__information">\n      <div>\n        <h2 class="film__title">').concat(t,'</h2>\n        <ul>\n          <li class="film__item">\n            <p class="film__details">Vote / Votes</p>\n            <p class="film__info--uper">\n              <span class="film__rating--orange">').concat(n,'</span>\n              <span class="film__rating--divider"> / </span>\n              <span class="vote-count">').concat(o,'</span>\n            </p>\n          </li>\n          <li class="film__item">\n            <p class="film__details">Popularity</p>\n            <p class="film__info--uper">').concat(i,'</p>\n          </li>\n          <li class="film__item">\n            <p class="film__details">Original title</p>\n            <p>').concat(t,'</p>\n          </li>\n          <li class="film__item">\n            <p class="film__details">Genre</p>\n            ').concat(0!==l.length?'<p class="film__info">'.concat(l,"</p>"):'<p class="film__info">No information</p>','\n          </li>\n        </ul>\n      </div>\n      <div>\n        <h3 class="film__about__title">About</h3>\n        ').concat(a?'<p class="film__about__text">'.concat(a,"</p>"):'<p class="film__about__text">No information</p>','\n      </div>\n      <div class="film__button__wrapper">\n        <button type="button" class="film__button btn__watch">Add to watched</button>\n        <button type="button" class="film__button btn__queue">Add to queue</button>\n      </div>\n      </div>')}(i,l,a,f,_,b,h));var w={poster_path:i,title:l,vote_average:a,vote_count:f,popularity:_,genre_ids:b,overview:h},q=document.querySelector(".btn__watch"),L=document.querySelector(".btn__queue");q.addEventListener("click",(function(){L.textContent="You add film to watched",s(q,L),c(w)})),L.addEventListener("click",(function(){q.textContent="You add film to queue ",s(L,q),r(w)}))})),_.addEventListener("click",b)}();
//# sourceMappingURL=library.fe1177d7.js.map
