{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,0BACMC,QAMN,MAAMC,EAAiBC,SAASC,cAAc,iBACxCC,EAAkBF,SAASC,cAAc,uBAE/C,IAAIE,EAAa,GA8DjBJ,EAAeK,iBAAiB,UARjBC,eAA0BC,GACvCA,EAAEC,iBACFJ,EAAaD,EAAgBM,MAC7BC,QAAQC,IAAIR,EAAgBM,OAC5BT,EAAeY,cACT,EAAAC,EAAAC,sBA5CRR,iBACE,IAIE,aAH0BS,EAAMC,IAC9B,qDAAqDnB,EAAAoB,+BAA+Bb,gCAEnEc,I,CACnB,MAAOC,GACPT,QAAQS,MAAMA,E,EAqCWC,G","sources":["src/js/search_movie.js"],"sourcesContent":["import { ApiKey } from './refs';\nconst axios = require('axios').default;\n\n// import allGenres from '../data/genres.json';\n\nimport { renderMoviesTrending } from './renderMoviesTrending';\n\nconst searchFilmForm = document.querySelector('.header__form');\nconst searchFilmInput = document.querySelector('.header__form-input');\n// let pError = document.querySelector('.header__error');\nlet inputValue = '';\nlet page = '';\n// const URL_SEARCH = `https://api.themoviedb.org/3/search/movie?api_key=${ApiKey}&language=en-US&query=${inputValue}&page=1&include_adult=false`;\n\n// Создание нового свойства с годом (для всех)\n// function createYear(obj) {\n//   return obj.release_date ? obj.release_date.split('-')[0] : '';\n// }\n\n// Извлечение локальных жанров из json файла\n// function getGenres() {\n//   const { genres } = allGenres;\n//   return genres;\n// }g\n\nasync function fetchFilms() {\n  try {\n    const fetchResult = await axios.get(\n      `https://api.themoviedb.org/3/search/movie?api_key=${ApiKey}&language=en-US&query=${inputValue}&page=${page}&include_adult=false`\n    );\n    return fetchResult.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\n// .then(data => data.json())\n\n// .then(res => {\n//   console.log(res.results);\n//   if (!res.results.length) {\n//     pError.textContent =\n//       'Search result not successful. Enter the correct movie name and try again.';\n//   }\n//   if (!!res.results.length) {\n//     moviesList.innerHTML = '';\n//     pError.textContent = '';\n//   }\n//   res.results.forEach(movie => {\n//     moviesList.insertAdjacentElement(\n//       'beforeend',\n//       createCardFunc(\n//         movie.poster_path,\n//         movie.title,\n//         movie.genre_ids,\n//         movie.release_date\n//       )\n//     );\n//   });\n//   renderFilms = res.results;\n//   return renderFilms;\n// })\n// .catch(err => console.log(err));\n\nexport default async function searchFilm(e) {\n  e.preventDefault();\n  inputValue = searchFilmInput.value;\n  console.log(searchFilmInput.value);\n  searchFilmForm.reset();\n  await renderMoviesTrending(fetchFilms(1));\n}\n\nsearchFilmForm.addEventListener('submit', searchFilm);\n"],"names":["$krGWQ","parcelRequire","default","$820a678d1478b261$var$searchFilmForm","document","querySelector","$820a678d1478b261$var$searchFilmInput","$820a678d1478b261$var$inputValue","addEventListener","async","e","preventDefault","value","console","log","reset","$1JKsw","renderMoviesTrending","$820a678d1478b261$require$axios","get","ApiKey","data","error","$820a678d1478b261$var$fetchFilms"],"version":3,"file":"index.4f1c0e5c.js.map"}