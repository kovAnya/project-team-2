{"mappings":"gfAAAA,EAAA,S,sBAIA,IAAMC,EAAWC,SAASC,cAAc,oBAClCC,EAAeF,SAASC,cAAc,WACtCE,EAAcH,SAASC,cAAc,eACrCG,EAAQJ,SAASC,cAAc,qBAsEd,SAAdI,IACP,IAAMC,EAAUN,SAASC,cAAc,gBACjCM,EAAWP,SAASC,cAAc,sBACxCK,EAAQE,SACRD,EAASC,SAETT,EAASU,UAAUC,IAAI,aACvBV,SAASW,KAAKC,MAAMC,SAAW,SAC/Bb,SAASc,oBAAoB,UAAWC,GACxCf,SAASc,oBAAoB,QAASE,E,CAIvB,SAARD,EAAcE,GACN,WAAXA,EAAEC,MACJb,G,CAKJ,SAASW,EAAgBC,GACnBA,EAAEE,SAAWpB,GACfM,G,CAzFJH,EAAakB,iBAAiB,SAG9B,SAASC,EAAgBJ,GACvBlB,EAASU,UAAUD,OAAO,aAC1BR,SAASW,KAAKC,MAAMC,SAAW,SAC/Bb,SAASoB,iBAAiB,UAAWL,GACrCf,SAASoB,iBAAiB,QAASJ,GAEnCZ,EAAMkB,mBAAmB,aAclB,+FAGJC,OAD0DC,EAAY,UAMzCD,OAL7BE,GAASC,GAAkBC,EAC1B,sGAS6CJ,OALjBE,GAASC,GAAkBC,EAAK,8MAOzBJ,OAFUK,EAAa,kHAOtBL,OALDM,EAAW,gLASnCN,OAJyBO,EAAW,sIAQjBP,OAJnBE,GAASC,GAAkBC,EAAK,gJAUVJ,OANHQ,EAAU,6JAMER,OAATS,EAAS,0QA/C9CC,QAAQC,IAAIb,GAGd,IACEG,EACAE,EACAD,EACAE,EACAC,EACAC,EACAE,EACAC,EACAF,C,IArBF3B,EAAYiB,iBAAiB,QAASf,E","sources":["src/js/modal_film.js"],"sourcesContent":["import { fetchMoviesTrending } from \"./fetchMoviesTrending\";\nimport {getMovieGenres} from './genres';\nimport {renderMoviesTrending} from './renderMoviesTrending';\n\nconst backdrop = document.querySelector('.modal__backdrop');\nconst filmsListRef = document.querySelector('.movies'); \nconst closeBtnRef = document.querySelector('.closeModal');\nconst modal = document.querySelector('.modal__container');\n\n\nfilmsListRef.addEventListener('click', onFilmCardClick);\ncloseBtnRef.addEventListener('click', onCloseBtnClick);\n\nfunction onFilmCardClick(e) {\n  backdrop.classList.remove('is-hidden');\n  document.body.style.overflow = 'hidden';\n  document.addEventListener('keydown', onEscBtnPress);\n  document.addEventListener('click', onBackdropClick);\n\n  modal.insertAdjacentHTML('afterbegin', makeFilmModalMarkup());\n  console.log(onFilmCardClick);\n}\n\nfunction makeFilmModalMarkup(\n  poster_path,\n  original_title,\n  title,\n  name,\n  vote_average,\n  vote_count,\n  genre_ids,\n  overview,\n  popularity) {\n  return `\n  <div class=\"film__image\">\n  <img class=\"image\" src=\"https://image.tmdb.org/t/p/original${poster_path}\" alt=${\n     title || original_title || name\n     }/>\n    </div>\n    <div class=\"film__information\">\n      <div>\n        <h2 class=\"film__title\">${title || original_title || name}</h2>\n        <ul>\n          <li class=\"film__item\">\n            <p class=\"film__details\">Vote / Votes</p>\n            <p class=\"film__info--uper\">\n              <span class=\"film__rating--orange\">${vote_average}</span>\n              <span class=\"film__rating--divider\"> / </span>\n              <span class=\"vote-count\">${vote_count}</span>\n            </p>\n          </li>\n          <li class=\"film__item\">\n            <p class=\"film__details\">Popularity</p>\n            <p class=\"film__info--uper\">${popularity}</p>\n          </li>\n          <li class=\"film__item\">\n            <p class=\"film__details\">Original title</p>\n            <p>${title || original_title || name}</p>\n          </li>\n          <li class=\"film__item\">\n            <p class=\"film__details\">Genre</p>\n            <p class=\"film__info\">${genre_ids}</p>\n          </li>\n        </ul>\n      </div>\n      <div>\n        <h3 class=\"film__about__title\">About</h3>\n        <p class=\"film__about__text\">${overview}</p>\n      </div>\n      <div class=\"film__button__wrapper\">\n        <button type=\"button\" class=\"film__button btn__watch\">Add to watched</button>\n        <button type=\"button\" class=\"film__button btn__queue\">Add to queue</button>\n      </div>\n      </div>`;\n}\n\n//Функція закриття по кнопці\nfunction onCloseBtnClick() {\n  const filmImg = document.querySelector('.film__image');\n  const filmInfo = document.querySelector('.film__information');\n  filmImg.remove();\n  filmInfo.remove();\n\n  backdrop.classList.add('is-hidden');\n  document.body.style.overflow = 'scroll';\n  document.removeEventListener('keydown', onEscBtnPress);\n  document.removeEventListener('click', onBackdropClick);\n}\n\n//Функція закриття по ESC\nfunction onEscBtnPress(e) {\n  if (e.code === 'Escape') {\n    onCloseBtnClick();\n  }\n}\n\n//Функція закриття модалки поза межами модалки\nfunction onBackdropClick(e) {\n  if (e.target === backdrop) {\n    onCloseBtnClick();\n  }\n}\n\n"],"names":["parcelRequire","$8eef5e65369a408e$var$backdrop","document","querySelector","$8eef5e65369a408e$var$filmsListRef","$8eef5e65369a408e$var$closeBtnRef","$8eef5e65369a408e$var$modal","$8eef5e65369a408e$var$onCloseBtnClick","filmImg","filmInfo","remove","classList","add","body","style","overflow","removeEventListener","$8eef5e65369a408e$var$onEscBtnPress","$8eef5e65369a408e$var$onBackdropClick","e","code","target","addEventListener","$8eef5e65369a408e$var$onFilmCardClick","insertAdjacentHTML","concat","poster_path","title","original_title","name","vote_average","vote_count","popularity","genre_ids","overview","console","log"],"version":3,"file":"library.9bbec683.js.map"}